{% extends "base.html" %}
{% block title %}KidTube Â· Dashboard{% endblock %}
{% block content %}
<section class="dashboard-toolbar">
  <details class="kid-menu">
    <summary class="kid-menu-summary">
      <span class="kid-menu-avatar">
        {% if current_kid.avatar_url %}
        <img src="{{ current_kid.avatar_url }}" alt="{{ current_kid.name }} avatar" />
        {% else %}
        {{ (current_kid.name or 'K')[:2] }}
        {% endif %}
      </span>
      <span class="kid-menu-label">{{ current_kid.name }}</span>
    </summary>
    <div class="panel kid-menu-popover">
      <button id="switch-profile" class="btn-secondary" type="button">Switch Profile</button>
      <button id="parent-controls" class="btn-secondary" type="button">Parent Controls</button>
    </div>
  </details>
</section>

<section id="category-panel" class="panel category-panel">
  <div class="section-head"><h2>Categories</h2></div>
  <div id="category-pills" class="category-pills" role="tablist" aria-label="Video categories"></div>
</section>

<section id="search-results" class="video-section" hidden>
  <div class="section-head"><h2>Search Results</h2></div>
  <section id="search-results-grid" class="section-row"></section>
</section>

<div class="row-grid">
  <section id="continue-watching" class="video-section continue-row">
    <div class="section-head"><h2>Continue Watching</h2></div>
    <section id="continue-grid" class="section-row"></section>
  </section>

  <section id="allowed-channels" class="video-section">
    <div class="section-head">
      <h2>Allowed Channels</h2>
      <a href="#" aria-label="See all allowed channels">See all</a>
    </div>
    <section id="allowed-channel-grid" class="channel-carousel"></section>
  </section>

  <section id="shorts-videos" class="video-section">
    <div class="section-head">
      <h2>Shorts</h2>
      <a href="#" aria-label="See all shorts">See all</a>
    </div>
    <section id="shorts-grid" class="section-row"></section>
  </section>

  <section id="new-adventures" class="video-section">
    <div class="section-head">
      <h2>New Adventures</h2>
      <a href="#" aria-label="See all new adventures">See all</a>
    </div>
    <section id="dashboard-grid" class="section-row"></section>
    <div class="more-wrap">
      <button id="see-more-btn" class="btn-secondary" type="button">See more</button>
    </div>
  </section>

  <section id="latest-videos" class="video-section">
    <div class="section-head">
      <h2>Latest from Allowed</h2>
      <a href="#" aria-label="See all latest from allowed">See all</a>
    </div>
    <section id="latest-channel-grid" class="section-row"></section>
  </section>

  <section id="category-rows" class="video-section"></section>
</div>
{% endblock %}
{% block scripts %}
<script type="module" src="/static/dashboard.js"></script>
{% endblock %}
